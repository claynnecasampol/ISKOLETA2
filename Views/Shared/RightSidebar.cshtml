<div class="rightsidebar py-2 px-2 bg-white">
    <div class="card px-3 border-0">
        <div class="card-body d-flex align-items-center">
            <div class="">
                <img src="~/images/profile.png" alt="User Image" style="width:50px; height:auto;">
            </div>
            <div class="text-start">
                <p class="m-0 fw-bold fs-5">@Model.FirstName @Model.LastName</p>
                <p class="text-muted fw-semibold m-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M10.007 2.10377C8.60544 1.65006 7.08181 2.28116 6.41156 3.59306L5.60578 5.17023C5.51004 5.35763 5.35763 5.51004 5.17023 5.60578L3.59306 6.41156C2.28116 7.08181 1.65006 8.60544 2.10377 10.007L2.64923 11.692C2.71404 11.8922 2.71404 12.1078 2.64923 12.308L2.10377 13.993C1.65006 15.3946 2.28116 16.9182 3.59306 17.5885L5.17023 18.3942C5.35763 18.49 5.51004 18.6424 5.60578 18.8298L6.41156 20.407C7.08181 21.7189 8.60544 22.35 10.007 21.8963L11.692 21.3508C11.8922 21.286 12.1078 21.286 12.308 21.3508L13.993 21.8963C15.3946 22.35 16.9182 21.7189 17.5885 20.407L18.3942 18.8298C18.49 18.6424 18.6424 18.49 18.8298 18.3942L20.407 17.5885C21.7189 16.9182 22.35 15.3946 21.8963 13.993L21.3508 12.308C21.286 12.1078 21.286 11.8922 21.3508 11.692L21.8963 10.007C22.35 8.60544 21.7189 7.08181 20.407 6.41156L18.8298 5.60578C18.6424 5.51004 18.49 5.35763 18.3942 5.17023L17.5885 3.59306C16.9182 2.28116 15.3946 1.65006 13.993 2.10377L12.308 2.64923C12.1078 2.71403 11.8922 2.71404 11.692 2.64923L10.007 2.10377ZM6.75977 11.7573L8.17399 10.343L11.0024 13.1715L16.6593 7.51465L18.0735 8.92886L11.0024 15.9999L6.75977 11.7573Z"></path></svg>
                     Verified</p>
            </div>
        </div>
        <div class="row p-2 py-4 border border-2 border-dark" style="border-radius: 20px;row-gap: 0.5rem;">
            <h4 class="my-2">Wellness Challenges</h4>
            <div class="p-2 border border-1 border-dark" style="border-radius: 20px;">
                <div>
                    <p class="m-0 fs-6 fw-bold">
                        <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="orange"><path d="M9.82986 8.78986L7.99998 9.45588V13H5.99998V8.05H6.015L11.2834 6.13247C11.5274 6.03855 11.7922 5.99162 12.0648 6.0008C13.1762 6.02813 14.1522 6.75668 14.4917 7.82036C14.678 8.40431 14.848 8.79836 15.0015 9.0025C15.9138 10.2155 17.3653 11 19 11V13C16.8253 13 14.8823 12.0083 13.5984 10.4526L12.9008 14.4085L15 16.17V23H13V17.1025L10.7307 15.1984L10.003 19.3253L3.10938 18.1098L3.45667 16.1401L8.38071 17.0084L9.82986 8.78986ZM13.5 5.5C12.3954 5.5 11.5 4.60457 11.5 3.5C11.5 2.39543 12.3954 1.5 13.5 1.5C14.6046 1.5 15.5 2.39543 15.5 3.5C15.5 4.60457 14.6046 5.5 13.5 5.5Z"></path></svg>
                        Running
                    </p>
                    <p class="text-muted m-0 small">Complete 5km in steps for 7 consecutive days</p>
                    <div>
                        <span class="text-muted" style="font-size: 0.7rem;">@Model.KmTotalDays</span>
                        <div class="d-flex">
                            <div class="pb-wrap" style="background:#eee;border-radius:8px;overflow:hidden;height:10px;margin-top:8px;flex:1;">
                                <div
                                     style="height:100%;width:@Model.KmPercentage%;background:red;transition:width .3s;">
                                </div>
                            </div>
                            <span class="ms-2 small text-muted">@Model.KmPercentage.ToString("0")%</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-2 border border-1 border-dark" style="border-radius: 20px;">
                <div>
                    <p class="m-0 fs-6 fw-bold">
                        <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="violet"><path d="M22 11V20H20V17H4V20H2V4H4V14H12V7H18C20.2091 7 22 8.79086 22 11ZM8 13C6.34315 13 5 11.6569 5 10C5 8.34315 6.34315 7 8 7C9.65685 7 11 8.34315 11 10C11 11.6569 9.65685 13 8 13Z"></path></svg>
                        Sleeping
                    </p>
                    <p class="text-muted m-0 small">Complete a total of 7 hours of sleep for 7 consecutive days</p>
                    <div>
                        <span class="text-muted" style="font-size: 0.7rem;">@Model.SleepTotalDays</span>
                        <div class="d-flex">
                            <div class="pb-wrap" style="background:#eee;border-radius:8px;overflow:hidden;height:10px;margin-top:8px;flex:1;">
                                <div style="height:100%;width:@Model.HoursPercentage%;background:blue;transition:width .3s;"></div>
                            </div>
                            <span class="ms-2 small text-muted">@Model.HoursPercentage.ToString("0")%</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-2 border border-1 border-dark" style="border-radius: 20px;">
                <div>
                    <p class="m-0 fs-6 fw-bold">
                        <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="orange"><path d="M12 23C7.85786 23 4.5 19.6421 4.5 15.5C4.5 13.3462 5.40786 11.4045 6.86179 10.0366C8.20403 8.77375 11.5 6.49951 11 1.5C17 5.5 20 9.5 14 15.5C15 15.5 16.5 15.5 19 13.0296C19.2697 13.8032 19.5 14.6345 19.5 15.5C19.5 19.6421 16.1421 23 12 23Z"></path></svg>
                        Calories
                    </p>
                    <p class="text-muted m-0 small">Burn 1,000 calories for 7 consecutive days</p>
                    <div>
                        <span class="text-muted" style="font-size: 0.7rem;">@Model.CaloriesTotalDays</span>
                        <div class="d-flex">
                            <div class="pb-wrap" style="background:#eee;border-radius:8px;overflow:hidden;height:10px;margin-top:8px;flex:1;">
                                <div style="height:100%;width:@Model.CaloriesPercentage%;background:orange;transition:width .3s;"></div>
                            </div>
                            <span id="" class="ms-2 small text-muted">@Model.CaloriesPercentage.ToString("0")%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3 p-2 py-4 border border-2 border-dark" style="border-radius: 20px;row-gap: 0.5rem;">
            <h4 class="my-2">Training Schedule</h4>
            @if (ViewBag.Events != null)
            {
                foreach (var ev in (List<StudentCalendarModel>)ViewBag.Events)
                {
                    <div class="p-2 border border-1 border-dark" style="border-radius: 20px;">
                        <div class="d-flex justify-content-between">
                            <div class="d-flex align-items-center">
                                <div>
                                    <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z"></path></svg>
                                </div>
                                <div class="ps-2">
                                    <p class="mb-0">@DateTime.Parse(ev.StartDate).ToString("dddd")</p>
                                    <p class="m-0 fs-4">
                                        @ev.Title
                                    </p>
                                    <p class="small text-muted m-0">
                                        @ev.Time
                                    </p>
                                </div>
                            </div>
                            <div class="text-end">
                                <span class="badge bg-primary">@ev.ActivityType</span>
                            </div>
                        </div>
                    </div>
                }
            }
            
        </div>
    </div>
 
</div>
<script>
    // Example values
    var daysDone = 3;
    var totalDays = 7;

    // Calculate percentage
    var percent = Math.round((daysDone / totalDays) * 100);

    // Update bar width
    document.getElementById("pb2").style.width = percent + "%";

    // Update percentage text
    document.getElementById("pb-text").textContent = percent + "%";

    // Update days text
    document.getElementById("pb-days").textContent = daysDone + "/" + totalDays;
</script>